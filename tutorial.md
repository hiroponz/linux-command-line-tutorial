# Linuxコマンドライン入門

## さあ始めましょう

Linuxでのコマンドラインの使い方を習得すると、様々な作業を効率化することができます。

例えば、cronコマンドを使用すると、毎日決まった時間に特定のディレクトリ（注:Windowsでのフォルダのこと）にあるファイルを別のディレクトリにコピーするという退屈な作業を簡単に自動化することができます。また、自動化することによって、手作業の場合に発生する単純なミスを無くすことができるというメリットもあります。

また、コマンドラインの使い方は、ソフトウェアの開発スピードや品質を向上させるのに有効なCI（継続的インテグレーション）やCD（継続的デリバリー)を実施するための基礎知識でもあります。

このチュートリアルでは、Linuxでのコマンドラインの使い方の基礎知識を身につけることができます。

**所要時間**: 約15分

**前提条件**: GCPアカウント

**[Start]** ボタンをクリックして次のステップへ進みます。

## コマンドラインとは

Windowsの操作は基本的にマウスを使用するGUI（Graphical User Interface）で行うことができますが、
Linuxの操作は基本的にターミナル（黒い画面）でコマンドを入力するCUI（Character User Interface）で行う必要があります。

ファイルをコピーする操作を例に、GUIとCUIの違いを説明します。

GUIの場合:

1. コピーするファイルを右クリックで選択し、メニューの「コピー」をクリックする。
2. コピー先のフォルダ内で右クリックをして、メニューの「貼り付け」をクリックする。

CUIの場合:

1. ターミナルで以下のコマンドを入力する。（注: **{** と **}** で囲んだ文字はプレースホルダです。）
   ```
   cp {コピー元のファイル} {コピー先のファイル}
   ```

このように、GUIでの操作をCUIでの操作に置き換えることが可能です。

上記の例では「 **cp** 」がファイルをコピーするための **コマンド** です。

また、 `{コピー元のファイル}` と `{コピー先のファイル}` のことをコマンドの **引数** 呼びます。
指定できる引数はコマンド毎に決まっていて、間違った引数を指定するとエラーが発生します。

**[Next]** ボタンをクリックして次のステップへ進みます。

## 作業ディレクトリを表示する

Linuxではファイルをまとめる「フォルダ」を「ディレクトリ」と呼びます。

ターミナルで作業している時は、特に意識していなくても、必ずどこかのディレクトリの中で作業をしていることになっています。
このディレクトリのことを **作業ディレクトリ** と呼びます。

この作業ディレクトリを表示するのが「 **pwd** 」コマンドです。（print working directoryの略です）

それでは、作業ディレクトリを表示するために、ターミナルで以下のコマンドを実行してください。

```bash
pwd
```

**ヒント**: コードボックスの横にあるコピーボタンをクリックして、コマンドをCloud Shellターミナルに貼り付けて実行します（Enterキーを押す）。

おそらくターミナルには「/home/{username}/cloudshell_open/linux-command-line-tutorial」のような文字が表示されるはずです。（{username}はプレースホルダであなたのユーザー名が表示されます）

ここで「 **/** 」はLinuxでの **ディレクトリの区切り** を表しています。

つまり、「home」ディレクトリの下の「{username}」ディレクトリの下の「cloudshell_open」ディレクトリの下の「linux-command-line-tutorial」ディレクトリが作業ディレクトリとなります。

**[Next]** ボタンをクリックして次のステップへ進みます。

## 作業ディレクトリを移動する

### 1つ上のディレクトリに移動する

作業ディレクトリを1つ上のディレクトリに移動するには、「cd」コマンドの引数で移動先を指定して実行してください。

```bash
cd ..
```

**ヒント**: 「 **..** 」は特別な記号で **1つ上のディレクトリ** を表します。

「 **cd** 」はchange directoryの略で、 **ディレクトリを移動するためのコマンド** です。

### 相対パスを指定してディレクトリを移動する

現在の作業ディレクトリからの、相対的なディレクトリやファイルの位置のことを **相対パス** を呼びます。

作業ディレクトリ内の「linux-command-line-tutorial」ディレクトリに移動するには、次のコマンドを実行してください。

```bash
cd linux-command-line-tutorial
```

**ヒント**: ディレクトリ名の先頭の一部を入力したあとに **TAB** キーを押すと残りのディレクトリ名が自動的に補完（入力）されます。「cd li」と入力したあとに、TABキーを押してディレクトリ名が自動補完されることを試してください。

### 絶対パスを指定してディレクトリを移動する

Linuxでは最上位のディレクトリを **ルートディレクトリ** と呼び「 **/** 」と表現します。

また、ルートディレクトリからのディレクトリやファイルの位置のことを **絶対パス** と呼びます。

例えば、ルートディレクトリの下にある「home」ディレクトリを絶対パスで表現すると「/home」となります。

ルートディレクトリの下にある「home」ディレクトリに移動するには、次のコマンドを実行してください。

```bash
cd /home
```

**ヒント:** 特に指定がなく **パス** とだけ記載されている場合は、一般的に **絶対パス** と **相対パス** のどちらを指定しても問題ないことを意味しています。

### ユーザーのホームディレクトリに移動する

ターミナルで作業している時は、特に意識していなくても、必ずLinuxのユーザーとしてログインして作業していることになっています。

それぞれのユーザーには、主に作業するためのディレクトリとして「ホームディレクトリ」が存在しています。

ログインしているユーザーの「ホームディレクトリ」に移動するには、引数を指定しないで「cd」コマンドを実行してください。

```bash
cd
```

**[Next]** ボタンをクリックして次のステップへ進みます。

## ファイルの一覧を表示する

### 最初のディレクトリに戻る

このステップを開始する前に、次のコマンドを実行して最初のディレクトリに戻る必要があります。

```bash
cd ~/cloudshell_open/linux-command-line-tutorial
```

**ヒント**: 「 **~** 」は特別な記号で **ログインしているユーザーのホームディレクトリ** を表します。

### ファイルの一覧を表示する

作業ディレクトリのファイルの一覧を表示するには、次のコマンドを実行してください。

```bash
ls
```

ターミナルに次のように2つのファイルが表示されるはずです。

```
README.md  tutorial.md
```

続いて、隠しファイル(フォルダ)も表示するために、次のコマンドを実行してしてください。

```bash
ls -a
```

先ほどとは異なり、ターミナルに次のように表示されるはずです。

```
.  ..  .git  README.md  tutorial.md
```

「ls」コマンドに追加した「 **-a** 」はコマンドのオプションと呼ばれるもので、コマンドの機能をカスタマイズするために使用します。

なお、「 **-** 」の後ろに追加する文字によって、機能のカスタマイズ内容はそれぞれ異なります。
また、指定できる文字はコマンド毎に決まっていて、間違った文字を指定するとエラーになります。

「ls」コマンドの「-a」オプションは、通常のファイルに加えて、隠しファイルを表示するオプションです。

**ヒント**: Linuxでは「 **.** 」からはじまるファイルは、隠しファイルを意味します。

**ヒント**: 「ls」コマンドの内容が異なる色で表現されているのは、ファイルやディレクトリの違いを視覚的に判断できるようにするためです。追加するオプションによって、様々にカスタマイズできます。

**注意**: 「ls」コマンドは、ファイルとディレクトリの一覧を表示するコマンドですが、簡単のためファイルの一覧を表示するコマンドと記載しています。

ファイル名の他に、詳細なファイルの情報を表示するには、「ls」コマンドに「 **-l** 」を追加して実行してください。

```bash
ls -l
```

今度は、次のように表示されるはずです。（細かな内容はユーザーごとに異なります）

```
total 16
-rw-r--r-- 1 {username} {username} 1849 Aug 20 08:14 README.md
-rw-r--r-- 1 {username} {username} 8603 Aug 20 13:59 tutorial.md
```

表示内容の詳細な説明は省略しますが、ファイル名の他にファイルのサイズや更新日時などが表示されます。

次のように複数のオプションをまとめて指定することも可能です。

```bash
ls -a -l
```

これは、次のように省略して指定することも可能です。

```bash
ls -al
```

また、一般的にコマンドのオプションの順番を変えて実行しても、結果は同じになります。

```bash
ls -la
```

**注意**: 一部のコマンドは、オプションの順番に意味があるので、エラーが発生する場合などはコマンドのマニュアルを確認してください。

パスを指定してファイルの一覧を表示するには、次のように **コマンドの引数でパスを指定して実行してください** 。

```bash
ls .git
```

## コマンドのマニュアルを表示する

**[Next]** ボタンをクリックして次のステップへ進みます。

## コマンドの別名（エイリアス）を定義する

**[Next]** ボタンをクリックして次のステップへ進みます。

## おめでとうございます

<walkthrough-conclusion-trophy></walkthrough-conclusion-trophy>

このチュートリアルでは、以下のLinuxコマンドの使い方を学習しました。

- pwd
- cd
- ls
- man
- alias

また、ターミナルで作業するのに必要な以下の知識を習得しました。

- 作業ディレクトリ
- ルートディレクトリ
- 相対パス
- 絶対パス
- TABでの入力補完
- ホームディレクトリ
- 隠しファイル（ディレクトリ）

Cloud Shellを終了するには、ブラウザのタブを閉じてください。

ユーザーのホームディレクトリ内のファイルはCloud Shellを終了しても削除されません。
詳細は [永続化ストレージ](https://cloud.google.com/shell/docs/how-cloud-shell-works?hl=ja#persistent_disk_storage) を参照してください。

なお、このチュートリアルではGoogle Cloud Platformの有料サービスを一切使用していないため、作業後のクリーンアップは不要です。
